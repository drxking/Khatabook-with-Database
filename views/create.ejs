<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create New Hisaab</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <style>
        :root {
            --black: #000;
            --white: #fff;
        }

        @font-face {
            font-family: neue;
            src: url("/NeueMachina-Regular.otf");
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: neue;
        }

        input:focus,
        textarea:focus {
            outline: none;
        }

        input::placeholder,
        textarea::placeholder {
            color: rgba(128, 128, 128, 0.5);
        }
    </style>
</head>

<body>
    <nav class="flex align-center justify-between px-4 md:px-14 py-8">
        <a href="/dashboard/<%=user%>">Khataabook</a>
        <ul class="flex ">
            <li>
                <%=datauser.email%>
            </li>
        </ul>
    </nav>
    <main class="max-w-3xl px-4 md:px-24 py-8 ">
        <h2 class="text-xl font-bold mb-4">Create New Note</h2>

        <form class="flex flex-col items-start w-full" action="/create/<%=user%>" method="post">
            <div class="mb-4 w-2/3">
                <input type="text" id="title" name="title" placeholder="Note Heading..."
                    class="w-full px-3 py-2 bg-gray-100 rounded md:text-base text-sm">
            </div>

            <div class="mb-4 w-full">
                <textarea id="details" name="description" placeholder="Note description..."
                    class="px-3 py-2  bg-gray-100 rounded w-full h-72 resize-none md:text-base text-sm"></textarea>
            </div>
            <div class="flex md:flex-row flex-col-reverse md:gap-10">
                <div class="mb-4 flex flex-col gap-2">
                    <label class="inline-flex items-center">
                        <input id="encrypt" type="checkbox" name="encrypted" class="form-checkbox text-blue-500">
                        <span class="ml-2 md:text-base text-sm">Encrypt this file</span>
                    </label>
                    <input id="password" type="text" autocomplete="off" name="password" placeholder="Password"
                        minlength="4" class=" px-3 py-2 bg-gray-100 rounded mt-2 pointer-events-none">
                </div>

                <div class="mb-4">
                    <label class="inline-flex items-center">
                        <input id="sharable" type="checkbox" name="sharable" class="form-checkbox text-blue-500">
                        <span class="ml-2 md:text-base text-sm">Shareable file?</span>
                    </label>
                </div>


            </div>

            <div class="text-center">
                <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded md:text-base text-sm">Create New Note</button>
            </div>
        </form>
    </main>
</body>

<script>
    document.getElementById('encrypt').addEventListener('change', function () {
        if (this.checked) {
            document.getElementById("password").classList.add("pointer-events-auto")
            document.getElementById("password").setAttribute("required", "required")
            document.getElementById("password").style.border = `1px solid gray`
        } else {
            document.getElementById("password").classList.remove("pointer-events-auto");
            document.getElementById("password").removeAttribute("required")
            document.getElementById("password").style.border = `none`
        }
    });


</script>

</html>